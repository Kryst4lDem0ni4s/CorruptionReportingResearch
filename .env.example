# ============================================================================
# ENVIRONMENT VARIABLES TEMPLATE
# corruption-reporting-prototype/.env.example
# ============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Update values with your actual credentials (DO NOT commit .env to Git)
# 3. The .env file is automatically loaded by python-dotenv
#
# NOTE: Variables marked REQUIRED must be set for the system to function
#       Variables marked OPTIONAL can be left empty for local deployment
#
# ============================================================================

# ============================================================================
# GENERAL SETTINGS
# ============================================================================

# Environment mode: dev, staging, production
# REQUIRED - Determines which config.{env}.yaml to load
ENV=dev

# Debug mode (true/false)
# REQUIRED for development, set to false in production
DEBUG=true

# Application secret key (used for session encryption, CSRF tokens)
# REQUIRED - Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your_secret_key_here_replace_with_random_64_char_hex

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Backend server host
# Default: 0.0.0.0 (all interfaces)
BACKEND_HOST=0.0.0.0

# Backend server port
# Default: 8080
BACKEND_PORT=8080

# Frontend server port
# Default: 3000
FRONTEND_PORT=3000

# Number of worker processes (production only)
# Default: 4
WORKERS=4

# ============================================================================
# STORAGE PATHS
# ============================================================================

# Base data directory (absolute or relative path)
# REQUIRED - Where all data is stored
DATA_DIR=backend/data

# Model cache directory (HuggingFace models)
# OPTIONAL - Defaults to ~/.cache/huggingface
MODEL_CACHE_DIR=

# Log directory
# OPTIONAL - Defaults to ./logs
LOG_DIR=logs

# ============================================================================
# SECURITY SETTINGS
# ============================================================================

# Encryption key for sensitive data (Fernet key)
# REQUIRED - Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your_fernet_key_here_replace_with_generated_key

# Rate limiting settings
# Requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# Requests per hour per IP
RATE_LIMIT_PER_HOUR=1000

# Maximum upload file size (bytes)
# Default: 20MB = 20971520 bytes
MAX_UPLOAD_SIZE=20971520

# Allowed CORS origins (comma-separated)
# REQUIRED for production with external frontend
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000,http://127.0.0.1:8080, *

# ============================================================================
# DATABASE CONFIGURATION (JSON-based - no external DB required)
# ============================================================================

# Hash chain file path
CHAIN_FILE=backend/data/chain.json

# Validators file path
VALIDATORS_FILE=backend/data/validators.json

# Index file path
INDEX_FILE=backend/data/index.json

# ============================================================================
# MACHINE LEARNING MODELS
# ============================================================================

# Device for ML inference: cpu, cuda, mps (Apple Silicon)
# Default: cpu (change to cuda if GPU available)
ML_DEVICE=cpu

# Enable FP16 precision (faster, requires GPU)
# Default: false (set to true for production with GPU)
USE_FP16=false

# CLIP model name
CLIP_MODEL=openai/clip-vit-base-patch32

# Wav2Vec2 model name
WAV2VEC_MODEL=facebook/wav2vec2-base

# BLIP model name
BLIP_MODEL=Salesforce/blip-image-captioning-base

# Sentence transformer model name
SENTENCE_TRANSFORMER_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Number of test-time augmentations
# Default: 10 (reduce to 5 for faster processing)
NUM_AUGMENTATIONS=10

# ============================================================================
# LAYER CONFIGURATIONS
# ============================================================================

# Layer 2: Deepfake detection threshold (0.0 - 1.0)
DEEPFAKE_THRESHOLD=0.5

# Layer 3: Coordination detection similarity threshold (0.0 - 1.0)
COORDINATION_THRESHOLD=0.7

# Layer 4: Number of validators for consensus
NUM_VALIDATORS=20

# Layer 4: Consensus threshold (0.0 - 1.0)
CONSENSUS_THRESHOLD=0.7

# Layer 5: Presumption of innocence weight multiplier
PRESUMPTION_WEIGHT=1.3

# Layer 5: Identity verification bonus multiplier
IDENTITY_BONUS=1.2

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# REQUIRED - Use DEBUG for development, INFO for production
LOG_LEVEL=DEBUG

# Enable JSON logging (for log aggregation)
# Default: false (set to true for production)
JSON_LOGS=false

# Enable file logging
# Default: true
LOG_TO_FILE=true

# Log file path
LOG_FILE=logs/app.log

# Maximum log file size (bytes)
# Default: 10MB = 10485760 bytes
LOG_MAX_BYTES=10485760

# Number of log backup files to keep
LOG_BACKUP_COUNT=5

# ============================================================================
# PERFORMANCE SETTINGS
# ============================================================================

# Maximum memory usage (MB)
# Default: 8192 (8 GB)
MAX_MEMORY_MB=8192

# Cache TTL (seconds)
# Default: 3600 (1 hour)
CACHE_TTL=3600

# Maximum concurrent submissions
# Default: 20
MAX_CONCURRENT_SUBMISSIONS=20

# Enable batch processing
# Default: true
BATCH_PROCESSING=true

# ============================================================================
# MONITORING & METRICS
# ============================================================================

# Enable Prometheus metrics
# Default: true
ENABLE_METRICS=true

# Prometheus metrics port
METRICS_PORT=9090

# Enable health checks
# Default: true
ENABLE_HEALTH_CHECK=true

# Health check detailed response (true/false)
# Set to false in production to hide internal details
HEALTH_CHECK_DETAILED=true

# ============================================================================
# EXTERNAL SERVICES (OPTIONAL - for Azure/Cloud deployment)
# ============================================================================

# ===========================
# Azure Storage (OPTIONAL)
# ===========================

# Enable Azure Blob Storage
# Default: false (use local storage)
AZURE_STORAGE_ENABLED=false

# Azure Storage account name
# OPTIONAL - Only needed if AZURE_STORAGE_ENABLED=true
AZURE_STORAGE_ACCOUNT=

# Azure Storage account key
# OPTIONAL - Only needed if AZURE_STORAGE_ENABLED=true
# Get from Azure Portal: Storage Account â†’ Access keys
AZURE_STORAGE_KEY=

# Azure Storage container name
# Default: corruption-reporting
AZURE_STORAGE_CONTAINER=corruption-reporting

# ===========================
# Azure App Service (OPTIONAL)
# ===========================

# Azure backend app name
# OPTIONAL - Only for Azure App Service deployment
AZURE_BACKEND_APP_NAME=

# Azure frontend app name
# OPTIONAL - Only for Azure App Service deployment
AZURE_FRONTEND_APP_NAME=

# ===========================
# Email Notifications (OPTIONAL)
# ===========================

# Enable email notifications
# Default: false
EMAIL_ENABLED=false

# SMTP host
# OPTIONAL - e.g., smtp.gmail.com
SMTP_HOST=

# SMTP port
# Default: 587 (TLS)
SMTP_PORT=587

# SMTP username
# OPTIONAL
SMTP_USERNAME=

# SMTP password
# OPTIONAL - For Gmail, use App Password
SMTP_PASSWORD=

# Email "from" address
# OPTIONAL
EMAIL_FROM_ADDRESS=

# ===========================
# Webhooks (OPTIONAL)
# ===========================

# Enable webhook notifications
# Default: false
WEBHOOKS_ENABLED=false

# Webhook URLs (comma-separated)
# OPTIONAL
WEBHOOK_URLS=

# ============================================================================
# EVALUATION SETTINGS (for research experiments)
# ============================================================================

# Enable evaluation mode
# Default: false (set to true when running experiments)
EVALUATION_MODE=false

# FaceForensics++ dataset path
# OPTIONAL - For evaluation experiments
FACEFORENSICS_DIR=evaluation/datasets/faceforensics

# Celeb-DF dataset path
# OPTIONAL - For evaluation experiments
CELEBDF_DIR=evaluation/datasets/celebdf

# Synthetic attacks dataset path
# OPTIONAL - For evaluation experiments
SYNTHETIC_DIR=evaluation/datasets/synthetic_attacks

# Number of benchmark iterations
# Default: 100
BENCHMARK_ITERATIONS=100

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable counter-evidence submission
ENABLE_COUNTER_EVIDENCE=true

# Enable PDF report generation
ENABLE_PDF_REPORTS=true

# Enable network graph visualization
ENABLE_NETWORK_GRAPHS=true

# Enable real-time updates (WebSocket)
ENABLE_REALTIME_UPDATES=false

# Enable file encryption at rest
ENABLE_FILE_ENCRYPTION=true

# Enable hash chain verification
ENABLE_HASH_CHAIN=true

# Enable coordination detection
ENABLE_COORDINATION_DETECTION=true

# ============================================================================
# DEVELOPMENT TOOLS (development only)
# ============================================================================

# Enable API documentation endpoints (/docs, /redoc)
# Default: true for dev, false for production
ENABLE_API_DOCS=true

# Enable auto-reload (development only)
# Default: true for dev, false for production
AUTO_RELOAD=true

# Enable profiler
# Default: false
ENABLE_PROFILER=false

# Enable debugger
# Default: false
ENABLE_DEBUGGER=false

# Seed test data on startup
# Default: false
SEED_DATA_ON_STARTUP=false

# Reset database on startup (WARNING: deletes all data)
# Default: false
RESET_DB_ON_STARTUP=false

# ============================================================================
# TESTING SETTINGS
# ============================================================================

# Generate synthetic test data
# Default: false
GENERATE_SYNTHETIC_DATA=false

# Number of synthetic submissions to generate
SYNTHETIC_SUBMISSIONS_COUNT=50

# Use test fixtures
# Default: false
USE_TEST_FIXTURES=false

# Mock ML models (for faster testing)
# Default: false
MOCK_ML_MODELS=false

# ============================================================================
# BACKUP & DISASTER RECOVERY (production only)
# ============================================================================

# Enable automatic backups
# Default: false
AUTO_BACKUP=false

# Backup interval (hours)
# Default: 24
BACKUP_INTERVAL_HOURS=24

# Backup retention (days)
# Default: 30
BACKUP_RETENTION_DAYS=30

# Backup directory
BACKUP_DIR=/var/backups/corruption-reporting

# ============================================================================
# COMPLIANCE SETTINGS
# ============================================================================

# Enable GDPR compliance features
# Default: true
GDPR_COMPLIANT=true

# Anonymize logs (remove PII)
# Default: true
ANONYMIZE_LOGS=true

# Data retention policy (days)
# Default: 90
DATA_RETENTION_DAYS=90

# Enable audit logging
# Default: true
ENABLE_AUDIT_LOG=true

# Audit log file path
AUDIT_LOG_FILE=logs/audit.log

# ============================================================================
# ADVANCED SETTINGS (do not modify unless you know what you're doing)
# ============================================================================

# Request timeout (seconds)
REQUEST_TIMEOUT=120

# Garbage collection threshold (0.0 - 1.0)
GC_THRESHOLD=0.9

# Cache maximum size (MB)
CACHE_MAX_SIZE_MB=2048

# Background worker count
BACKGROUND_WORKERS=4

# File lock timeout (seconds)
FILE_LOCK_TIMEOUT=30

# Hash chain verification on startup
VERIFY_CHAIN_ON_STARTUP=true

# ============================================================================
# END OF CONFIGURATION
# ============================================================================
#
# SECURITY NOTES:
# - NEVER commit .env to version control (it's in .gitignore)
# - Rotate SECRET_KEY and ENCRYPTION_KEY regularly (every 90 days recommended)
# - Use strong, unique keys for production
# - Restrict file permissions: chmod 600 .env
# - Keep Azure credentials secure using Azure Key Vault in production
#
# TROUBLESHOOTING:
# - If variables aren't loaded, ensure python-dotenv is installed
# - Check .env file is in project root directory
# - Verify no syntax errors (no quotes around values needed)
# - Restart application after changing .env
#
# ============================================================================
